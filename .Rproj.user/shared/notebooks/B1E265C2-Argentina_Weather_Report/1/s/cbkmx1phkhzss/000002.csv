"0","# VERIFICATION T+3: comparo las estimaciones de precipitation hechas en el dia T para el per√≠odo T+1/T+3 vs las precipitaciones reales"
"0","## FORECAST:  Aca lo que hago es pedirle que me deje solo los registros de estimaciones en los cuales la el rango de dias sea menor o igual que T+3. Luego remuevo los dias que coinciden con el dia de la estimacion. "
"0","i<-3 # i es la cantidad de dias de rango que quiero usar"
"0","fcast_00_all_verification<-fcast_00_all%>%"
"0","  select(Fcast_date,DATE,Station.Name,Zona_Pas,RAIN,Model)%>%"
"0","  group_by(Fcast_date,Station.Name,Model)%>%"
"0","  filter(DATE<=(Fcast_date+i)&DATE!=(Fcast_date))%>%"
"0","  group_by(Station.Name,Fcast_date,Model)%>%"
"0","  dplyr::summarise(Precip= sum(RAIN))%>%"
"0","  mutate(Fcast_date_2=as.Date(Fcast_date)+i)"
"0","  "
"0","  "
"0","## LLUVIAS REALES:aca le pido que construya un rolling sum de tres dias y luego para que las fechas coincidan con las del forecast, creo otra columna en la cual le resto a la fecha el mismo periodo."
"0","rolling_sum<-rollify(sum, window = i) # usa el mismo rango de dias que en el caso del forecast"
"0","realized_precip_verfication<-realized_precip%>%"
"0","  mutate(precip_3 = rolling_sum(DAILY_RAIN))%>%"
"0","  mutate(DATE_2=DATE-i)"
"0","verification_00<-left_join(realized_precip_verfication,fcast_00_all_verification,"
"0","          by=c(""DATE""=""Fcast_date_2"","
"0","               ""Station.Name""=""Station.Name""))"
"0","  rename(""Fcast""=""Precip"",""Real""=""precip_3"")%>%"
"0","  gather(Key,value,-Difference, -DATE,-Model,-Zona_Pas,-Station.Name)%>%"
"0","  mutate(Model2=ifelse(Key==""Real"",""Real"",Model))"
"0","verification_00_db$Model<-NULL"
"0","verification_00_db$Key<-NULL"
"0","# Arrange available stations per region"
"0","## South / West"
"0","verification_00_south<-verification_00_db%>%filter(Station.Name==""Tandil Aerodrome""|Station.Name==""Bahia Blanca Aerodrome""|Station.Name==""Santa Rosa Aerodrome""|Station.Name==""Dolores Aerodrome""|Station.Name==""Azul Aerodrome"")%>%filter(DATE>today()-30)"
"0","## Center Regions"
"0","verification_00_centre<-verification_00_db%>%filter(Station.Name==""Rosario Aerodrome""|Station.Name==""Junin Aerodrome""|Station.Name==""Cordoba Aerodrome""|Station.Name==""Marcos Juarez Aerodrome""|Station.Name==""Rio Cuarto Aerodrome""|Station.Name==""Laboulaye""|Station.Name==""Parana Aerodrome"")%>%filter(DATE>today()-30)"
"0","verification_00_north<-verification_00_db%>%filter(Station.Name==""Reconquista Aerodrome""|Station.Name==""Ceres Aerodrome""|Station.Name==""Pilar Observatorio""|Station.Name==""Salta Aerodrome""|Station.Name==""Santiago Del Estero Aero.""|Station.Name==""Sauce Viejo Aerodrome""|Station.Name==""Tucuman Aerodrome"")%>%filter(DATE>today()-30)"
